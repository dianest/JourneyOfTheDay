# plan

## Перечень автоматизированных сценариев

1. Пользователь на странице путешествия кликает по кнопке "Купить", пользователь перенаправлен к сервису платежей, пользователь вводит корректные данные дебетовой банковской карты, покупка совершена успешно, в СУБД есть запись о способе платежа и успешности операции.  

2. Пользователь на странице путешествия кликает по кнопке "Купить", пользователь перенаправлен к сервису платежей, пользователь вводит неверные данные банковской карты, покупка не совершена, в СУБД нет записи о платеже.

3. Пользователь на странице путешествия кликает по кнопке "Купить", пользователь перенаправлен к сервису платежей, пользователь вводит просроченные данные банковской карты, покупка не совершена, в СУБД нет записи о платеже.

4. Пользователь на странице путешествия кликает по кнопке "Купить", пользователь перенаправлен к сервису платежей, пользователь вводит корректные данные банковской карты, на карте недостаточно денег, покупка не совершена, в СУБД нет записи о .

5. Пользователь на странице путешествия кликает по кнопке "Купить", пользователь перенаправлен к сервису платежей, пользователь вводит корректные данные кредитной банковский карты, покупка не совершена, в СУБД нет записи о платеже.

6. Пользователь на странице путешествия кликает по кнопке "Купить в кредит", пользователь перенаправлен к кредитному сервису, пользователь вводит корректные данные банковской карты, кредит оформлен, покупка совершена, в СУБД есть запись о способе платежа и успешности операции.

7. Пользователь на странице путешествия кликает по кнопке "Купить в кредит", пользователь перенаправлен к кредитному сервису, пользователь вводит неверные данные банковской карты, покупка не совершена, в СУБД нет записи о платеже.

8. Пользователь на странице путешествия кликает по кнопке "Купить в кредит", пользователь перенаправлен к кредитному сервису, пользователь вводит просроченные данные банковской карты, покупка не совершена, в СУБД нет записи о платеже.

9. Пользователь на странице путешествия кликает по кнопке "Купить в кредит", пользователь перенаправлен к кредитному сервису, пользователь вводит корректные данные банковской карты, у пользователя плохая кредитная история, кредит не оформлен, покупка не совершена, в СУБД нет записи.

10. Проверка поддержки двух СУБД: MySQL и PostgreSQL.


## Перечень используемых инструментов с обоснованием выбора
1. IntelliJ IDEA - интергрированная среда разработки, так как по плану будет использоваться язык Java. Без нее не обойтись, выбрана именно эта среда, как наиболее распространенная и продвинутая, обладающая рядом несомненных преимуществ (умный редактор кода, встроенные плагины для интеграции с системой контроля версий, поддержка выбранного языка программирования)
2. JUnit5 - платформа для написания автотестов. Встраивается в IDEA.
3. Gradle - система автоматизации сборки и управления зависимостями (наиболее гибкий на сегодняшний день инструмент, поддерживающий многомодульность, зависимости между модулями, зависимости от задач). При выборе между Maven и Gradle, второй для меня понятнее в том числе из-за его немногословности.
4. GitHub - система управления проектом и версиями кода, открытая, удобна для совместного использования. В частности, для взаимодействия в рамках дипломной работы с руководителем проекта.
5. Git - система контроля версий, наиболее удобна для отслеживания всех изменений, внесенных в базу кода, с указанием имени того, кто внес изменения. Также позволяет восстановить стертый или измененный код.
6. Selenium - инструмент автоматизации браузеров, выбран, так как мы тестируем веб-сервис, а selenium предоставляет нам API для взаимодействия с браузерами из различных языков программирования.
7. chromedriver - инструмент, реализующий протокол WebDriver и позволяющий selenium одним образом общаться со всеми браузерами. Соответственно, при выбранном драйвере обязательным является предустановленный браузер  Chrome.
8. Docker - нужен для более эффективного использование системы и ресурсов, быстрого развертывания готовых программных продуктов, а также для их масштабирования и переноса в другие среды с гарантированным сохранением стабильной работы (в том числе выбран за возможность работы с небезопасным кодом, скорость развертывания, удобный запуск, оптимизацию файловой системы). Выбран так как симулятор написан на Node.js.
9. AppVeyor - распределённый веб-сервис непрерывной интеграции, предназначенный для сборки и тестирования программного обеспечения расположенного на GitHub. Для работы с ним достаточно аккаунта на ранее выбранном GitHub. Сервис отлично подходит для запуска Unit-тестов.


## Перечень и описание возможных рисков при автоматизации
1. Увеличение стоимости проекта, так как разработка тестов займет больше времени, чем их первичный прогон руками, также в дальнейшем на поддержку и запуск.
2. При использовании автоматизации на проекте недостаточно специалиста, занимающегося ручным тестированием, необходимо нанимать тестировщика другого уровня либо обучать специалистов по ручному тестированию.
3. Увеличение времени в случае ошибочных тестов, то есть ложного срабатывания. Необходимо тщательно выверять все тесты и отслеживать изменения в основном коде.
4. Одним из серьезных рисков является выбор инструмента тестирования. Так как автотесты создаются не на один раз и переписывание/переделывание в дальнейшем повлечет за собой серьезные расходы.
5. Сложность измерения и сравнения результатов автоматизации и ручного тестирования. Существует огромное количество метрик для оценки работы тестировщика, но конечную цель, а именно удовлетворение ожидания потребителя оценить невозможно. Поэтому необходимо выбрать наиболее близкую метрику для оценки каждого проекта (объективная, измеряемая, простая, логичная).
6. Неопределенность требований клиента. При вступлении в проект мы часто сталкиваемся с тем, что ожидаемый результат неопределен. И тут уже задача в том, чтобы довести все требования до их логического решения. Только после этого мы можем писать тесты и прописывать в них ожидаемые результаты для каждого шага пользователя.
7. Интеграция с внешними системами - особый риск. Здесь риск заключается в том, чтобы определить и разграничить полномочия и ответственность сторон. В частности, в дипломном проекте в автотестах мы проверяем работу приложения, полагаясь на то, что банковские сервисы работают корректно. В жизни мы должны проверять также реальное взаимодействие сервисов. И убеждаться, что со стороны клиента все работает корректно.
8. Аналогично предыдущему пункту, мы должны действовать в определенных рамках (законодательство, требования партнеров и т.д.). Как указано в дипломной задаче, в случае данных автотестов мы пропускаем через приложение данные карт, то есть мы должны иметь PCI DSS. Это также риск, когда мы допускаем в тестах недопустимые отступления от правил.


## Интервальная оценка с учётом рисков (в часах)
1. Настройка проекта в среде разработки. 2 часа
2. Детальная разработка тестов. 1 час
3. Написание тестов UI. 10 часов
4. Написание запросов в базу для проверки корректности внесения приложением информации. 2 часа
5. Прогон тестов и настройка сервисов в git. 3 часа
6. Подготовка отчетных документов по итогам автоматизированного тестирования (разбор автоматически сформированных отчетов Gradle). 2 часа
7. Подготовка отчетных документов по итогам автоматизации сервиса. 3 часа
Общее время 23 часа.

## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)
Срок написания авто-тестов 21 ноября.
Прогон тестов и подготовка отчетных документов 01 декабря.
Итоговый отчет 14 декабря.
